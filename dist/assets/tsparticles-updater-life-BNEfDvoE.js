import{U as u,D as o,I as l,B as d,S as c}from"./tsparticles-engine-B56Pkamw.js";class m extends u{constructor(){super(),this.sync=!1}load(i){i&&(super.load(i),i.sync!==void 0&&(this.sync=i.sync))}}class p extends u{constructor(){super(),this.random.minimumValue=1e-4,this.sync=!1}load(i){i&&(super.load(i),i.sync!==void 0&&(this.sync=i.sync))}}class h{constructor(){this.count=0,this.delay=new m,this.duration=new p}load(i){i&&(i.count!==void 0&&(this.count=i.count),this.delay.load(i.delay),this.duration.load(i.duration))}}class w{constructor(i){this.container=i}init(i){const n=this.container,t=i.options.life;t&&(i.life={delay:n.retina.reduceFactor?o(t.delay.value)*(t.delay.sync?1:l())/n.retina.reduceFactor*1e3:0,delayTime:0,duration:n.retina.reduceFactor?o(t.duration.value)*(t.duration.sync?1:l())/n.retina.reduceFactor*1e3:0,time:0,count:t.count},i.life.duration<=0&&(i.life.duration=-1),i.life.count<=0&&(i.life.count=-1),i.life&&(i.spawning=i.life.delay>0))}isEnabled(i){return!i.destroyed}loadOptions(i,...n){i.life||(i.life=new h);for(const t of n)i.life.load(t==null?void 0:t.life)}update(i,n){if(!this.isEnabled(i)||!i.life)return;const t=i.life;let e=!1;if(i.spawning){if(t.delayTime+=n.value,!(t.delayTime>=i.life.delay))return;e=!0,i.spawning=!1,t.delayTime=0,t.time=0}if(t.duration===-1||i.spawning||(e?t.time=0:t.time+=n.value,t.time<t.duration))return;if(t.time=0,i.life.count>0&&i.life.count--,i.life.count===0)return void i.destroy();const r=this.container.canvas.size,f=d(0,r.width),y=d(0,r.width);i.position.x=c(f),i.position.y=c(y),i.spawning=!0,t.delayTime=0,t.time=0,i.reset();const s=i.options.life;s&&(t.delay=1e3*o(s.delay.value),t.duration=1e3*o(s.duration.value))}}async function g(a,i=!0){await a.addParticleUpdater("life",n=>new w(n),i)}export{g as l};
