const d={_origin:"https://api.emailjs.com"},m=(t,e,r)=>{if(!t)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!r)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class c{constructor(e){this.status=e.status,this.text=e.responseText}}const l=(t,e,r={})=>new Promise((a,i)=>{const o=new XMLHttpRequest;o.addEventListener("load",({target:s})=>{const n=new c(s);n.status===200||n.text==="OK"?a(n):i(n)}),o.addEventListener("error",({target:s})=>{i(new c(s))}),o.open("POST",d._origin+t,!0),Object.keys(r).forEach(s=>{o.setRequestHeader(s,r[s])}),o.send(e)}),h={init:(t,e="https://api.emailjs.com")=>{d._userID=t,d._origin=e},send:(t,e,r,a)=>{const i=a||d._userID;return m(i,t,e),l("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:i,service_id:t,template_id:e,template_params:r}),{"Content-type":"application/json"})},sendForm:(t,e,r,a)=>{const i=a||d._userID,o=(n=>{let p;if(p=typeof n=="string"?document.querySelector(n):n,!p||p.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return p})(r);m(i,t,e);const s=new FormData(o);return s.append("lib_version","3.2.0"),s.append("service_id",t),s.append("template_id",e),s.append("user_id",i),l("/api/v1.0/email/send-form",s)}};export{h as e};
