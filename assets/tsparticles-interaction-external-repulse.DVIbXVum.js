import{k as g,E as b,C as R,g as k,V as M,c as S,a as _,R as q,v as w,m as D,i as y,f as T,h as C}from"./tsparticles-engine.pEwhNYWv.js";class E{constructor(){this.distance=200,this.duration=.4,this.factor=100,this.speed=1,this.maxSpeed=50,this.easing="ease-out-quad"}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.speed!==void 0&&(this.speed=e.speed),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed))}}class V extends E{constructor(){super(),this.selectors=[]}get ids(){return g(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=g(e,i=>`#${i}`)}load(e){super.load(e),e&&(e.ids!==void 0&&(this.ids=e.ids),e.selectors!==void 0&&(this.selectors=e.selectors))}}class H extends E{load(e){super.load(e),e&&(this.divs=g(e.divs,i=>{const t=new V;return t.load(i),t}))}}class I extends b{constructor(e,i){super(i),this._clickRepulse=()=>{const t=this.container,r=t.actualOptions.interactivity.modes.repulse;if(!r)return;const s=t.repulse||{particles:[]};if(s.finish||(s.count||(s.count=0),s.count++,s.count===t.particles.count&&(s.finish=!0)),s.clicking){const o=t.retina.repulseModeDistance;if(!o||o<0)return;const c=Math.pow(o/6,3),a=t.interactivity.mouse.clickPosition;if(a===void 0)return;const n=new R(a.x,a.y,c),l=t.particles.quadTree.query(n,u=>this.isEnabled(u));for(const u of l){const{dx:d,dy:p,distance:f}=k(a,u.position),h=f**2,m=r.speed,O=-c*m/h;if(h<=c){s.particles.push(u);const x=M.create(d,p);x.length=O,u.velocity.setTo(x)}}}else if(s.clicking===!1){for(const o of s.particles)o.velocity.setTo(o.initialVelocity);s.particles=[]}},this._hoverRepulse=()=>{const t=this.container,r=t.interactivity.mouse.position,s=t.retina.repulseModeDistance;!s||s<0||!r||this._processRepulse(r,s,new R(r.x,r.y,s))},this._processRepulse=(t,r,s,o)=>{const c=this.container,a=c.particles.quadTree.query(s,l=>this.isEnabled(l)),n=c.actualOptions.interactivity.modes.repulse;if(n)for(const l of a){const{dx:u,dy:d,distance:p}=k(l.position,t),f=(o?.speed??n.speed)*n.factor,h=S(_(n.easing)(1-p/r)*f,0,n.maxSpeed),m=M.create(p===0?f:u/p*h,p===0?f:d/p*h);l.position.addTo(m)}},this._singleSelectorRepulse=(t,r)=>{const s=this.container,o=s.actualOptions.interactivity.modes.repulse;if(!o)return;const c=document.querySelectorAll(t);c.length&&c.forEach(a=>{const n=a,l=s.retina.pixelRatio,u={x:(n.offsetLeft+n.offsetWidth/2)*l,y:(n.offsetTop+n.offsetHeight/2)*l},d=n.offsetWidth/2*l,p=r.type==="circle"?new R(u.x,u.y,d):new q(n.offsetLeft*l,n.offsetTop*l,n.offsetWidth*l,n.offsetHeight*l),f=o.divs,h=w(f,n);this._processRepulse(u,d,p,h)})},this._engine=e,i.repulse||(i.repulse={particles:[]}),this.handleClickMode=t=>{const r=this.container.actualOptions,s=r.interactivity.modes.repulse;if(!s||t!=="repulse")return;i.repulse||(i.repulse={particles:[]});const o=i.repulse;o.clicking=!0,o.count=0;for(const c of i.repulse.particles)this.isEnabled(c)&&c.velocity.setTo(c.initialVelocity);o.particles=[],o.finish=!1,setTimeout(()=>{i.destroyed||(o.clicking=!1)},s.duration*1e3)}}clear(){}init(){const e=this.container,i=e.actualOptions.interactivity.modes.repulse;i&&(e.retina.repulseModeDistance=i.distance*e.retina.pixelRatio)}async interact(){const e=this.container,i=e.actualOptions,t=e.interactivity.status===D,r=i.interactivity.events,s=r.onHover,o=s.enable,c=s.mode,a=r.onClick,n=a.enable,l=a.mode,u=r.onDiv;t&&o&&y("repulse",c)?this._hoverRepulse():n&&y("repulse",l)?this._clickRepulse():T("repulse",u,(d,p)=>this._singleSelectorRepulse(d,p))}isEnabled(e){const i=this.container,t=i.actualOptions,r=i.interactivity.mouse,s=(e?.interactivity??t.interactivity).events,o=s.onDiv,c=s.onHover,a=s.onClick,n=C("repulse",o);if(!(n||c.enable&&r.position||a.enable&&r.clickPosition))return!1;const l=c.mode,u=a.mode;return y("repulse",l)||y("repulse",u)||n}loadModeOptions(e,...i){e.repulse||(e.repulse=new H);for(const t of i)e.repulse.load(t?.repulse)}reset(){}}async function W(v,e=!0){await v.addInteractor("externalRepulse",i=>new I(v,i),e)}export{W as l};
